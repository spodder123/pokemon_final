<h1>Cart</h1>
<% if user_signed_in? && User.where(id: current_user.id).first.province_id.nil? %>
<%= render 'shared/address', user: User.where(id: current_user.id) %>
<% end %>


<% @cart.each do |item| %>
<li>
<% pokemon = @pokemons.find { |p| p.id == item ['id'] }%>
<%= pokemon.name %>
<%= item['quantity']%>
<form action="<%=editcart_path %>" method="post">
<%= number_field_tag 'quantity', item['quantity'], min:1 %>
<%= button_to 'EDIT NUMBER OF ITEMS', editcart_path, params: {pokemonid: pokemon.id},method: :put %>
</form>
<%= button_to 'delete', removeitem_path, params: {pokemonid: item['id']}, method: :delete%>
</li>
<% end %>


<form   method="post" action="<%= checkout_summary_path %>">
<% if !user_signed_in? %>

 <select class="form-select" aria-label="Default select example" name="Province">
        <option value="all">All Provinces</option>
        <% Province.all.each do |province| %>
          <option value="<%= province.id %>"><%= province.name %></option>
        <% end %>
      </select>
      <label for="address">Address</label>
      <input type="text" name="address">
      <input type="submit" name="submit" value="checkout">
<% else %>
<input type="submit" name="submit" value="checkout">
<% end %>

  </form>